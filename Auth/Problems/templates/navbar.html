<nav class="bg-[#0a1612] border-b border-gray-700 px-4 py-3">
  <div class="max-w-screen-xl mx-auto flex items-center justify-between">

    <!-- Logo + Brand -->
    <a href="/" class="flex items-center space-x-3">
      <img src="https://cdn-icons-png.flaticon.com/512/2115/2115955.png" class="h-8" alt="OJ Logo">
      <span class="text-2xl font-semibold text-white">Bytewise</span>
    </a>

    <!-- Navigation Links -->
    <ul class="hidden md:flex space-x-6 text-white text-sm font-medium">
      <li><a href="/" class="hover:text-emerald-400">Home</a></li>
      <li><a href="/submit/" class="hover:text-emerald-400">Custom Input</a></li>
      <li><a href="{% url 'problem_list' %}" class="hover:text-emerald-400">Problem Set</a></li>
      <li><a href="#" class="hover:text-emerald-400">Contests</a></li>
      <li><a href="#" class="hover:text-emerald-400">Groups</a></li>
    </ul>

    <!-- User Profile / Dropdown -->
    <div class="relative">
      {% if user.is_authenticated %}
        <button id="userMenuBtn" class="w-8 h-8 rounded-full bg-gray-800 focus:outline-none">
          <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="w-8 h-8 rounded-full" alt="user" />
        </button>
        <div id="userDropdown" class="hidden absolute right-0 top-12 w-48 bg-emerald-700 text-white rounded-lg shadow-lg z-50">
          <div class="px-4 py-3 border-b border-emerald-500">
            <div class="text-sm font-semibold">{{ user.get_full_name|default:user.username }}</div>
            <div class="text-xs text-gray-300 truncate">{{ user.email }}</div>
          </div>
          <ul class="py-2 text-sm">
            <li><a href="/profile/" class="block px-4 py-2 hover:bg-emerald-600">Dashboard</a></li>
            <li><a href="/profile/" class="block px-4 py-2 hover:bg-emerald-600">Settings</a></li>
            <li><a href="#" class="block px-4 py-2 hover:bg-emerald-600">Submission History</a></li>
            <li><a href="/auth/logout/" class="block px-4 py-2 hover:bg-emerald-600">Logout</a></li>
          </ul>
        </div>
      {% else %}
        <a href="/auth/login/" class="text-sm text-emerald-400 border border-emerald-400 px-4 py-2 rounded-full hover:bg-emerald-500 hover:text-white transition">
          Login
        </a>
      {% endif %}
    </div>
  </div>

  <!-- Dropdown Toggle Script -->
  <script>
    const userBtn = document.getElementById("userMenuBtn");
    const dropdown = document.getElementById("userDropdown");
    if (userBtn && dropdown) {
      userBtn.addEventListener("click", () => {
        dropdown.classList.toggle("hidden");
      });
      document.addEventListener("click", (e) => {
        if (!userBtn.contains(e.target) && !dropdown.contains(e.target)) {
          dropdown.classList.add("hidden");
        }
      });
    }
  </script>
</nav>
